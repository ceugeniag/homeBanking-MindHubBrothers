<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@300&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="./assets/icono-logo.png" type="image/x-icon">
    <link rel="stylesheet" href="./create-cards.css">
    <title>Apply for a loan! - MindHub Brothers</title>
</head>
<body>
    <div id="app">
    <nav class="navbar navbar-light">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <a class="navbar-brand" href="./index.html">
            <img src="./assets/icono-logo.png" alt="icon" width="50" class="d-inline-block align-text-center">
            MindHub Brothers</a><a @click="logout" href="./index.html"><img src="./assets/cerrar.png" alt="" width="50" ></a>
            </div>
            <div class="collapse" id="navbarToggleExternalContent">
                <div class="p-4">
                    <h6 class="text-dark h4"><a href="./cards.html">Cards</a></h6>
                    <h6 class="text-dark h4"><a href="./accounts.html" class="card-link">Accounts</a></h6>
                    <h6 class="text-dark h4"><a href="./transfers.html">Transfers</a></h6>
                    <h6 class="text-dark h4"><a href="#">Apply loans</a></h6>
                    <h6 class="text-dark h4"><a href="#">Get in Touch!</a></h6>
                    <h6 class="text-dark h4"><a href="./index.html">Log out</a></h6>
                </div>
            </div>
            </nav>   
            <img class="img-fluid banner" src="./assets/getintouchBanner.png" alt="">
            <main>
                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./assets/1.png" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./assets/2.png" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                        <img src="./assets/3.png" class="d-block w-100" alt="...">
                    </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                    </button>
                </div>
                    <form>
                        <div class="content">
                            <fieldset>
                            <legend class="radio" for="loanId">Loans:</legend>
                            <select v-model="selectedLoan" name="selectedLoan" id="loanId" @change="loadPayments" required >
                                <option value="" selected disabled>Choose a loan</option>
                                <option v-for="loan of loans" :value="loan.id">{{loan.loanName}}</option>
                            </select>
                            </fieldset>
                            <fieldset>
                            <legend class="radio"><p v-if="selectedLoan">Max Amount: $ {{getMaxAmount(selectedLoan).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}}</p></legend>
                            </fieldset>
                            <fieldset>
                            <legend class="radio" for="amountchoose">How much money do you want?</legend>
                            <input v-model="amount" type="text" placeholder="Amount" id="amountchoose" required>
                            </fieldset>
                            <fieldset>
                            <legend for="">Payments:</legend>
                                <option value="" selected disabled>Choose a payment</option>
                                <select v-model="selectedPayment" name="selectedPayment" id="selectedPayment">
                                    <option v-for="payment of filteredPayments" :value="payment" @change="updateTotalPrice">{{payment}}</option>
                                </select>
                            </fieldset>
                            <!-- <fieldset>
                                <div>
                                <legend class="radio"for="totalPrice">
                                    Total price per installment:</legend>
                                <input type="" id="totalPrice" v-model="totalLoanPrice">
                                </div>
                            </fieldset> -->
                            <fieldset>
                                <div>
                                    <legend> Total price per installment:
                                        <p id="totalPrice">$</p>
                                    </legend>
                                </div>
                            </fieldset>
                            <fieldset>
                            <legend class="radio" for="account">Destination account:</legend>
                            <select v-model="numberAccountDestiny" name="" id="numberAccountDestiny" >
                                <option value="" selected disabled>Choose an account</option>
                                <option v-for="account of accounts" :value="account.number" required>{{account.number}}</option>
                            </select>
                            </fieldset>
                            <button type="button" @click="loanApply" class="buttonCreated" >Create!</button>
                        </div>
                    </form>
                    <!-- MODAL O ALERTA CON LOS DATOS -->

            
            </main>
            <img class="img-fluid" src="./assets/covidbanner.png" alt="">
            <footer class="d-flex justify-content-between p-5 bg-light">
                <div class="redes">
                    <a href="tel:+3624767901"><img src="./assets/wappicon.png" alt="logowapp" width="40"></a>
                    <a href="https://github.com/ceugeniag"><img src="./assets/logogithub.png" alt="logogithub"width="40"></a>
                    <a href="https://www.linkedin.com/in/gonzalezceugenia/"><img src="./assets/pngwing.com.png" alt="logolinkedin"width="40"></a>
                </div>
                <h3>Cohort 44 - C. Eugenia Gonzalez</h3>
            </footer>
        </div>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
            <script src="./loan-application.js"></script>
        </body>
        </html>